# Set up rbenv for Homebrew. Make sure path is BEFORE Homebrew's /usr/local/[s]bin
# To enable shims and autocompletion add to your profile:
if which rbenv > /dev/null; then eval "$(rbenv init -)"; fi
if command -v pyenv 1>/dev/null 2>&1; then
  eval "$(pyenv init --path)"
  eval "$(pyenv init -)"
fi
if [[ ! -z "$(pip list | grep -F powerline-status)" ]]; then
  powerline="$(pip show --disable-pip-version-check powerline-status | grep Location | cut -d " " -f 2)"
  eval ". $powerline/powerline/bindings/bash/powerline.sh"
fi

# there are better ways of doing this...but this works for me for nowech
PATH_EXTRAS=""
FRAGMENT="$HOME/bin"
[[ ! $PATH =~ "$FRAGMENT" && -d "$FRAGMENT" ]] && PATH_EXTRAS="$PATH_EXTRAS:$FRAGMENT"
FRAGMENT="$(pyenv root)/shims"
[[ ! $PATH =~ "$FRAGMENT" && -d "$FRAGMENT" ]] && PATH_EXTRAS="$PATH_EXTRAS:$FRAGMENT"
FRAGMENT="$HOME/.local/bin"
[[ ! $PATH =~ "$FRAGMENT" && -d "$FRAGMENT" ]] && PATH_EXTRAS="$PATH_EXTRAS:$FRAGMENT"
FRAGMENT="/usr/local/bin"
[[ ! $PATH =~ "$FRAGMENT" ]] && PATH_EXTRAS="$PATH_EXTRAS:$FRAGMENT"
FRAGMENT="/usr/local/sbin"
[[ ! $PATH =~ "$FRAGMENT" ]] && PATH_EXTRAS="$PATH_EXTRAS:$FRAGMENT"
FRAGMENT="/opt/homebrew/bin"
[[ ! $PATH =~ "$FRAGMENT" && -d "$FRAGMENT" ]] && PATH_EXTRAS="$PATH_EXTRAS:$FRAGMENT"
# this fixes an issue I had with ffmpeg - may no longer be needed, one day I will double check...
FRAGMENT="/usr/local/opt/libpq"
[[ ! $PATH =~ "$FRAGMENT" && -d "$FRAGMENT" ]] && PATH_EXTRAS="$PATH_EXTRAS:$FRAGMENT"


[[ ! -z "$PATH_EXTRAS" ]] && export PATH="${PATH_EXTRAS:1}:$PATH"
